<div class="dashboard-main container-fluid d-flex p-0 m-0">
  <div class="dashboard-side d-md-flex col-md-2 flex-column pl-0 pr-0" [ngClass]="{'nav_show': env.showNav === true}">
    <!-- Side Menu Logo -->
    <app-side-menu></app-side-menu>
  </div>
  <div class="dashboard-body col-12 col-md-10 m-0 p-0">
    <app-nav></app-nav>
    <div class="topnav_margin">
      <div class="table_header p-2">
        <span class="font-weight-bold">Loan Guarantors</span>
      </div>
      <div class="d-flex flex-column mt-0">
        <div class="container-fluid p-0">
          <nav class="navbar navbar-expand">
            <ul class="search_ul navbar-nav ml-0 mx-md-auto">
              <li class="nav-item">
                <div class="form-group mb-0">
                  <i class="fa fa-search search-icon"></i>
                  <input class="form-control search_input" type="search" placeholder="Customer Phone" aria-label="Search" name="search" [(ngModel)]="searchText" (keyup)="search(searchText)">
                </div>
              </li>
            </ul>
          </nav>

          <div class="accordion mb-3" id="accordionParent">
            <!--<div class="d-table table">-->

            <ng-container *ngIf="apiData.length !== 0">
              <div class="card support_card mt-2" *ngFor="let data of apiData | paginate: config" data-toggle="collapse" [attr.data-target]="'#collapse' + apiData.indexOf(data)" aria-expanded="true" [attr.aria-controls]="'collapse' + apiData.indexOf(data)">
                <div class="card-header m-0 p-0 d-flex justify-content-between" [attr.id]="'heading' + apiData.indexOf(data)">
                  <h5 class="m-0 p-0">
                    <span class="btn btn-link text-dark" type="button">
                      {{data.user.email}}
                    </span>
                  </h5>
                  <div class="bg-success text-white support_indicator p-1 mr-3" [ngClass]="{'bg-primary': !data.readStatus}"><i class="fa fa-phone"></i> {{data.user.phone}} </div>
                </div>

                <div [attr.id]="'collapse' + apiData.indexOf(data)" class="collapse" [attr.aria-labelledby]="'heading' + apiData.indexOf(data)" data-parent="#accordionParent">
                  <div class="card-body" style="font-size: .9rem;">
                    <h5>Guarantor Info</h5>
                    <div class="">
                      <div><i class="fa fa-user mt-2"></i> <span class="font-weight-bold"> {{data.guarantorFirstname}} {{data.guarantorLastname}}</span></div>
                      <div><i class="fa fa-phone mt-2"></i> <span class="font-weight-bold"> {{data.gaurantorPhone1}}</span> | {{data.gaurantorPhone2}}</div>
                      <div><i class="fa fa-address-book mt-2"></i> <span class="font-weight-bold"> {{data.guarantorAddress}}</span> | {{data.guarantorAddress2}} <br/> {{data.guarantorLga}}, {{data.guarantorState}}</div>
                      <div><i class="fa fa-envelope mt-2"></i> {{data.guarantorMail}} </div>
                      <div><i class="fa fa-genderless mt-2"></i> {{data.guarantorSex}} </div>
                      <div><i class="fa fa-toolbox mt-2"></i> {{data.guarantorOccupation}} </div>
                      <div><i class="fa fa-money-bill mt-2"></i> {{data.requestedLoan}} </div>
                      <div><i class="fa fa-map-pin mt-2"></i> Lat: {{data.latitude}}, Lng: {{data.longitude}} </div>
                      <div><i class="fa fa-calendar mt-2"></i> {{data.uploadDate}} </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>

            <!--</div>-->

          </div>

          <!-- Table -->
          <!--<div class="d-table table">-->
            <!--<div class="d-none d-md-table-row table-head">-->
              <!--<div class="d-table-cell tth">#</div>-->
              <!--<div class="d-table-cell tth">Customer Info</div>-->
              <!--<div class="d-table-cell tth">Guarantor Name</div>-->
              <!--<div class="d-table-cell tth">Phone</div>-->
              <!--<div class="d-table-cell tth">Mail</div>-->
              <!--<div class="d-table-cell tth">State/LGA</div>-->
              <!--<div class="d-table-cell tth">Address</div>-->
              <!--<div class="d-table-cell tth">Sex</div>-->
              <!--<div class="d-table-cell tth">Occupation</div>-->
              <!--<div class="d-table-cell tth">Amount Requested</div>-->
              <!--<div class="d-table-cell tth">Coordinates</div>-->
              <!--<div class="d-table-cell tth">Date</div>-->
            <!--</div>-->
            <!--<ng-container *ngIf="apiData.length !== 0">-->
              <!--<div class="d-flex mt-2 mt-md-4 flex-wrap d-md-table-row table-row" *ngFor="let data of apiData | paginate: config">-->
                <!--<div class="d-none d-md-table-cell ttr">{{apiData.indexOf(data) + 1}}</div>-->
                <!--<div class="d-block col-6 col-md-auto d-md-table-cell ttr"> {{data.user.phone}} </div>-->
                <!--<div class="d-block col-6 col-md-auto text-left text-md-left d-md-table-cell ttr">{{data.guarantorFirstname}} {{data.guarantorLastname}}</div>-->
                <!--<div class="d-none d-md-table-cell mt-3 mt-md-0 col-md-auto ttr"><strong>Phone1: </strong> {{data.gaurantorPhone1}} <br/> <strong>Phone2: </strong> {{data.guarantorPhone2}}</div>-->
                <!--<div class="d-block d-table-cell col-6 mt-3 mt-md-0 col-md-auto text-left text-md-left ttr">{{data.guarantorMail}}</div>-->
                <!--<div class="d-table-cell col-6 mt-3 mt-md-0 col-md-auto ttr"><strong>State: </strong>{{data.guarantorState}} <br/> <strong>LGA: </strong> {{data.guarantorLga}}</div>-->
                <!--<div class="d-table-cell col-6 mt-3 mt-md-0 col-md-auto ttr"><strong>Address1: </strong>{{data.guarantorAddress}} <br/> <strong>Address1: </strong>{{data.guarantorAddress2}}</div>-->
                <!--<div class="d-block col-6 d-md-table-cell mt-3 mt-md-0 col-md-auto ttr">{{data.guarantorSex}}</div>-->
                <!--<div class="d-block col-6 d-md-table-cell mt-3 mt-md-0 col-md-auto ttr">{{data.guarantorOccupation}}</div>-->
                <!--<div class="d-block col-6 d-md-table-cell mt-3 mt-md-0 col-md-auto ttr">{{data.requestedLoan}}</div>-->
                <!--<div class="d-block col-6 d-md-table-cell mt-3 mt-md-0 col-md-auto ttr"><strong>Latitude: </strong>{{data.latitude}} <br /> <strong>Longitude: </strong>{{data.longitude}}</div>-->
                <!--<div class="d-block col-6 d-md-table-cell mt-3 mt-md-0 col-md-auto ttr">{{data.uploadDate}}</div>-->
              <!--</div>-->
            <!--</ng-container>-->
          <!--</div>-->

          <!-- Spinner -->
          <div class="container-fluid text-center mt-3" *ngIf="apiData.length === 0">
            <div class="spinner-border text-primary" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>

          <div class="container" [ngClass]="{'d-none': this.collection.data.length < 10}">
            <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
